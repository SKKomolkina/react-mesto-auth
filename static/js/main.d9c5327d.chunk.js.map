{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/InfoTooltip.js","components/Login.js","components/Register.js","utils/api.js","utils/auth.js","components/ProtectedRoute.js","images/success.svg","images/fail.svg","components/App.js","reportWebVitals.js","index.js"],"names":["Header","email","signOut","className","src","headerLogo","alt","exact","path","to","onClick","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","link","name","console","log","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","value","about","map","Footer","ImagePopup","onClose","PopupWithForm","title","buttonText","children","isOpen","onSubmit","EditAvatarPopup","onUpdateAvatar","useState","setAvatar","handleSubmit","evt","preventDefault","useEffect","onChange","target","id","placeholder","required","EditProfilePopup","onUpdateUser","setName","description","setDescription","minLength","maxLength","AddPlacePopup","nameValue","setNameValue","linkValue","setLinkValue","InfoTooltip","infoPopupStatus","text","Login","authorization","emailValue","setEmailValue","passwordValue","setPasswordValue","Register","registration","api","options","this","_url","baseUrl","_headers","headers","Promise","all","getUserData","getInitialCards","fetch","then","res","_checkResult","method","body","JSON","stringify","cardId","avatarUrl","ok","json","reject","status","BASE_URL","checkResult","ProtectedRoute","Component","component","props","isLoggedIn","App","setIsLoggedIn","setCurrentUser","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isInfoPopupOpen","setIsInfoPopupOpen","setInfoPopupStatus","selectedCard","setSelectedCard","setCards","history","useHistory","changeInfoPopup","handleInfoPopupOpen","closeAllPopups","data","catch","err","token","jwt","localStorage","getItem","response","push","Provider","removeItem","deleteLike","setLike","newCard","state","c","deleteCard","filter","password","setItem","auth","successImage","setTimeout","failImage","changeAvatar","editProfile","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d9c5327d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import React from 'react';\nimport { Link, Switch, Route } from 'react-router-dom';\n\nimport headerLogo from '../images/logo.svg';\n\nfunction Header({ email, signOut }) {\n    return (\n        <header className=\"header\">\n            <img className=\"logo header__logo\" src={headerLogo} alt=\"Логотип Mesto\" />\n\n            <div className=\"header__info\">\n\n                <Switch>\n\n                    <Route exact path=\"/\">\n                        <p className=\"header__mail\">{email}</p>\n                        <Link\n                            to=\"/sign-in\"\n                            onClick={signOut}\n                            className=\"header__button\">\n                            Выход\n                        </Link>\n                    </Route>\n\n                    <Route path=\"/sign-in\">\n                        <Link\n                            to=\"/sign-up\"\n                            className=\"header__button\">\n                            Регистрация\n                        </Link>\n                    </Route>\n\n                    <Route path=\"/sign-up\">\n                        <Link\n                            to=\"sign-in\"\n                            className=\"header__button\">\n                            Войти\n                        </Link>\n                    </Route>\n                </Switch>\n            </div>\n        </header>\n    )\n}\n\nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    function handleClick() {\n        onCardClick(card);\n        console.log(card);\n    }\n\n    function handleLike() {\n        onCardLike(card);\n    }\n\n    function handleDelete() {\n        onCardDelete(card);\n    }\n\n    //сверяем айди карточки \n    const isOwn = card.owner._id === currentUser._id;\n\n    //класс, позволяющий при совпадении _.id удалить карточку\n    const cardDeleteButtonClassName = (\n        `photo__trash ${isOwn ? 'photo__trash_active' : 'photo__trash_hidden'}`\n    );\n\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    const cardLikeButtonClassName = `photo__like ${isLiked ? 'photo__like_active' : ''}`\n\n\n    return (\n        <article className=\"photo\">\n            <div className=\"photo__image-container\">\n                <button\n                    onClick={handleDelete}\n                    className={cardDeleteButtonClassName}\n                    aria-label=\"Удалить\"\n                    type=\"button\">\n                </button>\n\n                <img\n                    className=\"photo__image photo__image_open\"\n                    src={card.link} alt={card.name}\n                    name=\"name\"\n                    onClick={handleClick}\n                />\n            </div>\n\n            <h3 className=\"photo__title\" name=\"link\">{card.name}</h3>\n            <div className=\"photo__like-container\">\n                <button\n                    onClick={handleLike}\n                    className={cardLikeButtonClassName}\n                    type=\"button\"\n                    aria-label=\"Нравится\">\n                </button>\n\n                <p className=\"photo__like-counter\">{card.likes.length}</p>\n            </div>\n        </article>\n    )\n}\n\nexport default Card;","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nimport Card from './Card.js';\n\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDelete, cards }) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    return (\n        <main>\n            <section className=\"profile\">\n                <div className=\"profile__container\">\n                    <div className=\"profile__photo-wrapper\" onClick={onEditAvatar}>\n                        <img name=\"avatar\"\n                            src={currentUser.avatar}\n                            alt=\"Ваше фото\" className=\"profile__photo\" />\n                    </div>\n\n                    <div className=\"profile__info\">\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\n                        <button className=\"profile__btn-edit\" type=\"button\" value=\"\" onClick={onEditProfile}></button>\n                        <p className=\"profile__about\">{currentUser.about}</p>\n                    </div>\n\n                    <button className=\"profile__btn-add\" type=\"button\" onClick={onAddPlace}></button>\n                </div>\n            </section>\n\n            <section className=\"photos\">\n                {cards.map(card => (\n                <Card\n                    card={card}\n                    key={card._id}\n                    onCardClick={onCardClick}\n                    onCardLike={onCardLike}\n                    onCardDelete={onCardDelete}  \n                    />\n                    )\n                    )}\n            </section>\n        </main>\n    )\n}\n\nexport default Main","import React from 'react';\n\nfunction Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__logo\">© 2021 Mesto Russia</p>\n        </footer>\n    )\n}\n\nexport default Footer","import React from 'react';\n\nfunction ImagePopup({ card, onClose }) {\n    return (\n            <div \n            className={`popup popup_full_photo ${card.name && 'popup_opened'}`}\n            onClick={onClose}\n            >\n                <div className=\"popup__figure-flex\">\n                    <button className=\"button-close popup__close popup__close_btn_close popup__button-close\" type=\"button\"></button>\n                    <figure className=\"popup__container popup__container-image popup__container-image_open\">\n                        <img className=\"popup__image\" src={card.link} alt={card.name} />\n                        <figcaption className=\"popup__caption\">{card.name}</figcaption>\n                    </figure>\n                </div>\n            </div>\n        )\n}\n\nexport default ImagePopup;","import React from 'react';\n\nfunction PopupWithForm({ title, name, buttonText, children, isOpen, onClose, onSubmit }) {\n    return (\n        <div className={`popup popup-${name} ${isOpen && 'popup_opened'}`}>\n\n            <button className={`button-close popup__cross popup__cross_btn_close-${name}`}\n                type=\"button\" onClick={onClose}></button>\n            <form\n                onSubmit={onSubmit}\n                className={`popup__form popup__form_${name}`}\n                name={`${name}-form`}\n            >\n\n                <h2 className=\"popup__title\">{title}</h2>\n\n                {children}\n\n                <button className=\"popup__button popup__save\" type=\"submit\">{buttonText}</button>\n\n            </form>\n\n        </div>\n    )\n}\n\nexport default PopupWithForm","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({ name, isOpen, onClose, onUpdateAvatar }) {\n    const currentUser = React.useContext(CurrentUserContext);\n    const [avatar, setAvatar] = React.useState('');\n\n    React.useEffect(() => {\n        setAvatar('');\n    }, [currentUser, isOpen]);\n\n    function handleChangeAvatar(evt) {\n        setAvatar(evt.target.value);\n    }\n    \n    function handleSubmit(evt) {\n        evt.preventDefault();\n\n        onUpdateAvatar({\n            avatar,\n        });\n    }\n\n    return (\n        <PopupWithForm\n            name='avatar'\n            title='Обновить аватар'\n            buttonText='Сохранить'\n\n            isOpen={isOpen}\n            onClose={onClose}\n            onUpdateAvatar={handleSubmit}\n\n            onSubmit={handleSubmit}\n        >\n\n            <input\n                onChange={handleChangeAvatar}\n                value={avatar || ''}\n\n                id={`\"popup__input_type_${name}\"`}\n                className=\"popup__input popup__input_type_avatar\"\n                name=\"link\"\n                placeholder=\"Ссылка на картинку\"\n                type=\"url\"\n                required\n            />\n            <span id={`\"popup__input_type_${name}-error\"`} className=\"popup__error\"></span>\n\n        </PopupWithForm>\n    )\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    const [name, setName] = React.useState('');\n    const [description, setDescription] = React.useState('');\n\n    function handleChangeName(evt) {\n        setName(evt.target.value);\n    }\n\n    function handleChangeDescription(evt) {\n        setDescription(evt.target.value);\n    }\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser, isOpen])\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n\n        onUpdateUser({\n            name,\n            about: description,\n        });\n    }\n\n    return (\n        <PopupWithForm\n            name='profile'\n            title='Редактировать профиль'\n            buttonText='Сохранить'\n\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        >\n            <input\n                onChange={handleChangeName}\n                value={name || ''}\n\n                id=\"popup__input_type_name\"\n                className=\"popup__input popup__input_type_name\"\n                type=\"text\"\n                name=\"name\"\n                minLength=\"2\"\n                maxLength=\"40\"\n                placeholder=\"Имя\"\n                required\n            />\n            <span id=\"popup__input_type_name-error\" className=\"popup__error\"></span>\n\n            <input\n                onChange={handleChangeDescription}\n                value={description || ''}\n\n                id=\"popup__input_type_about\"\n                className=\"popup__input popup__input_type_about\"\n                type=\"text\"\n                name=\"about\"\n                minLength=\"2\"\n                maxLength=\"200\"\n                placeholder=\"О себе\"\n                required\n            />\n            <span id=\"popup__input_type_about-error\" className=\"popup__error\"></span>\n\n        </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n    const [nameValue, setNameValue]= React.useState('');\n    const [linkValue, setLinkValue] = React.useState('');\n\n    React.useEffect(() => {\n        setLinkValue('')\n        setNameValue('')\n    }, [onClose])\n\n    function handleChangeNameValue(evt) {\n        evt.preventDefault();\n\n        setNameValue(evt.target.value);\n    }\n\n    function handleChangeLinkValue(evt) {\n        evt.preventDefault();\n\n        setLinkValue(evt.target.value);\n    }\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n\n        onAddPlace({\n            name: nameValue,\n            link: linkValue,\n        });\n    }\n\n    return (\n        <PopupWithForm\n            name='photo'\n            title='Новое место'\n            buttonText='Создать'\n\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        >\n\n            <input\n                onChange={handleChangeNameValue}\n                value={nameValue}\n                id=\"popup__input_type_title\"\n                className=\"popup__input popup__input_type_title\" \n                type=\"text\" name=\"name\"\n                placeholder=\"Название\"\n                minLength=\"1\"\n                maxLength=\"30\"\n                required\n            />\n            <span id=\"popup__input_type_title-error\" className=\"popup__error\"></span>\n\n            <input\n                onChange={handleChangeLinkValue}\n                value={linkValue}\n                id=\"popup__input_type_image\"\n                className=\"popup__input popup__input_type_image\"\n                type=\"url\" name=\"link\"\n                placeholder=\"Ссылка на картинку\"\n                required\n            />\n            <span id=\"popup__input_type_image-error\" className=\"popup__error\"></span>\n\n        </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup;","import React from 'react';\n\nfunction InfoTooltip({ isOpen, onClose, infoPopupStatus }) {\n\n    return (\n        <div className={`popup popup-info ${isOpen && 'popup_opened'}`}>\n            <button\n                className=\"button-close popup__cross popup__cross_btn_close-profile \"\n                type=\"button\"\n                onClick={onClose}\n                />\n\n            <div className=\"popup__info-container\">\n                <img className=\"popup-info__img\" src={infoPopupStatus.path} alt=\"\" />\n                <h2 className=\"popup-info__title\">{infoPopupStatus.text}</h2>\n            </div>\n        </div>\n    )\n}\n\nexport default InfoTooltip;\n","import React from 'react';\n\nfunction Login({ authorization }) {\n    const [emailValue, setEmailValue] = React.useState('');\n    const [passwordValue, setPasswordValue] = React.useState('');\n\n    function handleChangeEmail(evt) {\n        setEmailValue(evt.target.value);\n    }\n\n    function handleChangePassword(evt) {\n        setPasswordValue(evt.target.value);\n    }\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n\n        const password = passwordValue;\n        const email = emailValue;\n\n        authorization(email, password) \n    }\n\n    return (\n        <div className=\"auth\">\n            <h2 className=\"auth__title\">Вход</h2>\n\n            <form \n            className=\"auth__form\"\n            onSubmit={handleSubmit}\n            >\n                <input\n                    className=\"auth__input\"\n                    type=\"text\"\n                    placeholder=\"Email\"\n                    value={emailValue}\n                    onChange={handleChangeEmail}\n                />\n\n                <input\n                    className=\"auth__input\"\n                    type=\"password\"\n                    placeholder=\"Пароль\"\n                    value={passwordValue}\n                    onChange={handleChangePassword}\n                />\n\n                <button\n                    className=\"auth__button\"\n                    type=\"submit\">\n                    Войти\n                </button>\n            </form>\n        </div>\n    )\n}\n\nexport default Login;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Register({ registration }) {\n    const [emailValue, setEmailValue] = React.useState('');\n    const [passwordValue, setPasswordValue] = React.useState('');\n\n    function handleChangeEmail(evt) {\n        setEmailValue(evt.target.value);\n    }\n\n    function handleChangePassword(evt) {\n        setPasswordValue(evt.target.value);\n    }\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n\n        const email = emailValue;\n        const password = passwordValue;\n\n        registration(email, password);\n    }\n\n    return (\n        <div className=\"auth\">\n            <h2 className=\"auth__title\">Регистрация</h2>\n\n            <form\n                className=\"auth__form\"\n                onSubmit={handleSubmit}\n            >\n                <input\n                    className=\"auth__input\"\n                    type=\"email\"\n                    placeholder=\"Email\"\n                    onChange={handleChangeEmail}\n                    value={emailValue}\n                />\n\n                <input\n                    className=\"auth__input\"\n                    type=\"password\"\n                    placeholder=\"Пароль\"\n                    onChange={handleChangePassword}\n                    value={passwordValue}\n                />\n\n                <button\n                    className=\"auth__button\"\n                    type=\"submit\">\n                    Зарегистрироваться\n                </button>\n            </form>\n\n            <Link className=\"auth__link\" to=\"/sign-in\">Уже зарегистрированы? Войти</Link>\n        </div>\n    )\n}\n\nexport default Register;","export class Api {\n    constructor(options) {\n        this._url = options.baseUrl;\n        this._headers = options.headers;\n    }\n\n    getData() {\n        return Promise.all([this.getUserData(), this.getInitialCards()]);\n    }\n\n    getInitialCards() {\n        return fetch(`${this._url}/cards`, {\n            headers: this._headers\n        })\n            .then(res => this._checkResult(res));\n    }\n\n    getUserData() {\n        return fetch(`${this._url}/users/me`, {\n            headers: this._headers\n        })\n            .then(res => this._checkResult(res));\n    }\n\n    editProfile(name, about) {\n        return fetch(`${this._url}/users/me`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: name,\n                about: about,\n            })\n        })\n            .then(res => this._checkResult(res));\n    }\n\n    addCard(name, link) {\n        return fetch(`${this._url}/cards`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: name,\n                link: link,\n            })\n        })\n            .then(res => this._checkResult(res))\n    }\n\n    setLike(cardId) {\n        return fetch(`${this._url}/cards/likes/${cardId}`, {\n            method: 'PUT',\n            headers: this._headers,\n        })\n            .then(res => this._checkResult(res));\n    }\n\n    deleteLike(cardId) {\n        return fetch(`${this._url}/cards/likes/${cardId}`, {\n            method: 'DELETE',\n            headers: this._headers,\n        })\n            .then(res => this._checkResult(res));\n    }\n\n    deleteCard(cardId) {\n        return fetch(`${this._url}/cards/${cardId}`, {\n            method: 'DELETE',\n            headers: this._headers,\n        })\n            .then(res => this._checkResult(res));\n    }\n\n    changeAvatar(avatarUrl) {\n        return fetch(`${this._url}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                avatar: avatarUrl,\n            })\n        })\n            .then(res => this._checkResult(res));\n    }\n\n\n    _checkResult(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n}\n\nconst api = new Api({\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-25',\n    headers: {\n        authorization: 'e0ccb70a-8300-4fff-b1a9-1044a866d1c7',\n        'Content-Type': 'application/json'\n    }\n});\n\nexport default api","export const BASE_URL = 'https://auth.nomoreparties.co';\n\n\nexport const register = (email, password) => {\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({email, password})\n    })\n    // .then(response => checkResult(response))\n}\n\n\nexport const authorize = (email, password) => {\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({email, password})\n    })\n    .then((response => checkResult(response)))\n    .then((data) => {\n        console.log(data)\n        if(data.token){\n            console.log(data.token);\n            localStorage.setItem('jwt', data.token);\n            return data.token;\n        }\n    })\n}\n\n\nexport const getContent = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: 'GET',\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\" : `Bearer ${token}`\n        }\n    })\n    .then((response => checkResult(response)))\n    .then(data => data)\n}\n\nfunction checkResult(res) {\n    if (res.ok) {\n        return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n}","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n    return (\n        <Route>\n            <>\n                {\n                    props.isLoggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\n                }\n            </>\n        </Route>\n    )\n}\n\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/fail.df8eddf6.svg\";","import React from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\n\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport InfoTooltip from './InfoTooltip';\n\nimport Login from './Login';\nimport Register from './Register';\n\nimport api from '../utils/api';\nimport * as auth from '../utils/auth';\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport ProtectedRoute from './ProtectedRoute';\n\nimport successImage from '../images/success.svg';\nimport failImage from '../images/fail.svg';\n\nfunction App() {\n    const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n\n    const [currentUser, setCurrentUser] = React.useState({});\n    const [emailValue, setEmailValue] = React.useState('');\n\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n\n    const [isInfoPopupOpen, setIsInfoPopupOpen] = React.useState(false);\n    const [infoPopupStatus, setInfoPopupStatus] = React.useState({ path: '', text: '' })\n\n    const [selectedCard, setSelectedCard] = React.useState({ name: '', link: '' });\n    const [cards, setCards] = React.useState([]);\n\n    const history = useHistory();\n\n\n    React.useEffect(() => {\n        api.getUserData()\n            .then((data) => {\n                setCurrentUser(data);\n            })\n            .catch((err) => console.log(err));\n    }, [])\n\n    React.useEffect(() => {\n        api.getInitialCards()\n            .then((cards) => {\n                setCards(cards);\n            })\n            .catch((err) => {\n                console.log(err);\n            })\n\n    }, [])\n\n    React.useEffect(() => {\n        const jwt = localStorage.getItem('jwt');\n        if (jwt) {\n            auth.getContent(jwt).then((res) => {\n                if (res) {\n                    setEmailValue(res.data.email);\n                }\n                setIsLoggedIn(true);\n                history.push('/');\n            })\n                .catch(err => console.log(err))\n        }\n\n    }, [isLoggedIn, history])\n\n\n    // <---------- Registration & Auth ---------->\n\n    function registration(email, password) {\n        auth.register(email, password)\n            .then((response) => {\n                if (response.ok) {\n                    changeInfoPopup({\n                        path: successImage,\n                        text: 'Вы успешно зарегистрировались!',\n                    })\n                    handleInfoPopupOpen();\n                    setTimeout(history.push, 3000, \"/sign-in\");\n                    setTimeout(closeAllPopups, 4000)\n\n                    return response.json();\n                }\n            })\n            .catch((err) => {\n                changeInfoPopup({\n                    path: failImage,\n                    text: 'Что-то пошло не так! Попробуйте ещё раз.',\n                })\n                handleInfoPopupOpen();\n                setTimeout(closeAllPopups, 4000);\n                console.log(err);\n            })\n    }\n\n    function authorization(email, password) {\n        auth.authorize(email, password)\n        if(email !== emailValue) {\n            setEmailValue(email);\n        }\n        setIsLoggedIn(true);\n        history.push('/');\n    }\n\n\n    function signOut() {\n        localStorage.removeItem('jwt');\n        history.push('/sign-in');\n    }\n\n    // <---------- Open & Close ---------->\n\n    function changeInfoPopup({ path, text }) {\n        setInfoPopupStatus({\n            path: path,\n            text: text,\n        })\n    }\n\n    function handleInfoPopupOpen() {\n        setIsInfoPopupOpen(true);\n    }\n\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true);\n    }\n\n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true);\n    }\n\n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true);\n    }\n\n    function closeAllPopups() {\n        setIsEditAvatarPopupOpen(false);\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setIsInfoPopupOpen(false);\n\n        setSelectedCard({ name: '', link: '' });\n    }\n\n\n    // <---------- Update User & Avatar ---------->\n\n    function handleUpdateUser({ name, about }) {\n        api.editProfile(name, about)\n            .then((data) => {\n                setCurrentUser(data);\n                setIsEditProfilePopupOpen(false);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n    function handleUpdateAvatar({ avatar }) {\n        api.changeAvatar(avatar)\n            .then((data) => {\n                setCurrentUser(data);\n                setIsEditAvatarPopupOpen(false);\n            })\n            .catch((err) => console.log(err));\n    }\n\n\n    // <---------- PhotoCards Actions ---------->\n\n    function handleAddPlaceSubmit(card) {\n        api.addCard(card.name, card.link)\n            .then((newCard) => {\n                setCards([newCard, ...cards]);\n                setIsAddPlacePopupOpen(false);\n            })\n            .catch((err) => console.log(err));\n    }\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n        const changeLike = isLiked ? api.deleteLike(card._id) : api.setLike(card._id)\n\n        changeLike.then((newCard) => {\n            setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n        })\n            .catch((err) => console.log(err));\n    }\n\n    function handleCardDelete(card) {\n        api.deleteCard(card._id)\n            .then(() => {\n                const newCard = cards.filter((c) => c._id !== card._id);\n                setCards(newCard);\n            })\n            .catch((err) => console.log(err));\n    }\n\n    function handleCardClick(selectedCard) {\n        setSelectedCard({ name: selectedCard.name, link: selectedCard.link });\n    }\n\n\n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n            <div className=\"root\">\n                <Header\n                    email={emailValue}\n\n                    signOut={signOut}\n                />\n\n                <Switch>\n\n                    <ProtectedRoute\n                        exact path=\"/\"\n                        isLoggedIn={isLoggedIn}\n                        component={Main}\n\n                        onEditAvatar={handleEditAvatarClick}\n                        onEditProfile={handleEditProfileClick}\n                        onAddPlace={handleAddPlaceClick}\n\n                        onCardClick={handleCardClick}\n                        onCardLike={handleCardLike}\n                        onCardDelete={handleCardDelete}\n\n                        cards={cards}\n                    />\n\n                    <Route path=\"/sign-in\">\n                        <Login authorization={authorization} />\n                    </Route>\n\n                    <Route path=\"/sign-up\">\n                        <Register registration={registration} />\n                    </Route>\n\n                    <Route path=\"/\">\n                        {\n                            isLoggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />\n                        }\n                    </Route>\n                </Switch>\n\n                <Footer />\n\n                <EditAvatarPopup\n                    isOpen={isEditAvatarPopupOpen}\n                    onClose={closeAllPopups}\n\n                    onUpdateAvatar={handleUpdateAvatar}\n                />\n\n                <EditProfilePopup\n                    isOpen={isEditProfilePopupOpen}\n                    onClose={closeAllPopups}\n\n                    onUpdateUser={handleUpdateUser}\n                />\n\n                <AddPlacePopup\n                    isOpen={isAddPlacePopupOpen}\n                    onClose={closeAllPopups}\n\n                    onAddPlace={handleAddPlaceSubmit}\n                />\n\n                <ImagePopup\n                    card={selectedCard}\n                    onClose={closeAllPopups}\n                />\n\n                <InfoTooltip\n                    isOpen={isInfoPopupOpen}\n                    onClose={closeAllPopups}\n\n                    infoPopupStatus={infoPopupStatus}\n                />\n\n            </div>\n        </CurrentUserContext.Provider>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}