{"ast":null,"code":"export var BASE_URL='https://auth.nomoreparties.co';export var register=function register(email,password){return fetch(\"\".concat(BASE_URL,\"/signup\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:email,password:password})});};export var authorize=function authorize(email,password){return fetch(\"\".concat(BASE_URL,\"/signin\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:email,password:password})}).then(function(response){return response.json();}).then(function(data){console.log(data);if(data.token){console.log(data.token);localStorage.setItem('jwt',data.token);return data.token;}}).catch(function(err){return console.log(err);});};export var getContent=function getContent(token){return fetch(\"\".concat(BASE_URL,\"/users/me\"),{method:'GET',headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)}}).then(function(response){return response.json();}).then(function(data){return data;});};","map":{"version":3,"sources":["/Users/meowmeow/development/react-mesto-auth/src/utils/auth.js"],"names":["BASE_URL","register","email","password","fetch","method","headers","body","JSON","stringify","authorize","then","response","json","data","console","log","token","localStorage","setItem","catch","err","getContent"],"mappings":"AAAA,MAAO,IAAMA,CAAAA,QAAQ,CAAG,+BAAjB,CAGP,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAQC,QAAR,CAAqB,CACzC,MAAOC,CAAAA,KAAK,WAAIJ,QAAJ,YAAuB,CAC/BK,MAAM,CAAE,MADuB,CAE/BC,OAAO,CAAE,CACL,eAAgB,kBADX,CAFsB,CAK/BC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAACP,KAAK,CAALA,KAAD,CAAQC,QAAQ,CAARA,QAAR,CAAf,CALyB,CAAvB,CAAZ,CAOH,CARM,CAWP,MAAO,IAAMO,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACR,KAAD,CAAQC,QAAR,CAAqB,CAC1C,MAAOC,CAAAA,KAAK,WAAIJ,QAAJ,YAAuB,CAC/BK,MAAM,CAAE,MADuB,CAE/BC,OAAO,CAAE,CACL,eAAgB,kBADX,CAFsB,CAK/BC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAACP,KAAK,CAALA,KAAD,CAAQC,QAAQ,CAARA,QAAR,CAAf,CALyB,CAAvB,CAAL,CAONQ,IAPM,CAOA,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAPR,EAQNF,IARM,CAQD,SAACG,IAAD,CAAU,CACZC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACA,GAAGA,IAAI,CAACG,KAAR,CAAc,CACVF,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,KAAjB,EACAC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAA4BL,IAAI,CAACG,KAAjC,EACA,MAAOH,CAAAA,IAAI,CAACG,KAAZ,CACH,CACJ,CAfM,EAgBNG,KAhBM,CAgBA,SAAAC,GAAG,QAAIN,CAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ,CAAJ,EAhBH,CAAP,CAiBH,CAlBM,CAqBP,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACL,KAAD,CAAW,CACjC,MAAOb,CAAAA,KAAK,WAAIJ,QAAJ,cAAyB,CACjCK,MAAM,CAAE,KADyB,CAEjCC,OAAO,CAAE,CACL,eAAgB,kBADX,CAEL,iCAA4BW,KAA5B,CAFK,CAFwB,CAAzB,CAAL,CAONN,IAPM,CAOA,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAPR,EAQNF,IARM,CAQD,SAAAG,IAAI,QAAIA,CAAAA,IAAJ,EARH,CAAP,CASH,CAVM","sourcesContent":["export const BASE_URL = 'https://auth.nomoreparties.co';\n\n\nexport const register = (email, password) => {\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({email, password})\n    })\n}\n\n\nexport const authorize = (email, password) => {\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({email, password})\n    })\n    .then((response => response.json()))\n    .then((data) => {\n        console.log(data)\n        if(data.token){\n            console.log(data.token);\n            localStorage.setItem('jwt', data.token);\n            return data.token;\n        }\n    })\n    .catch(err => console.log(err))\n}\n\n\nexport const getContent = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: 'GET',\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\" : `Bearer ${token}`\n        }\n    })\n    .then((response => response.json()))\n    .then(data => data)\n}"]},"metadata":{},"sourceType":"module"}