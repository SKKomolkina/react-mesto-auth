{"ast":null,"code":"import _slicedToArray from\"/Users/meowmeow/development/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{CurrentUserContext}from'../contexts/CurrentUserContext';import PopupWithForm from'./PopupWithForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;var currentUser=React.useContext(CurrentUserContext);var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),description=_React$useState4[0],setDescription=_React$useState4[1];function handleChangeName(evt){setName(evt.target.value);}function handleChangeDescription(evt){setDescription(evt.target.value);}React.useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser,isOpen]);function handleSubmit(evt){evt.preventDefault();onUpdateUser({name:name,about:description});}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",buttonText:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleChangeName,value:name||'',id:\"popup__input_type_name\",className:\"popup__input popup__input_type_name\",type:\"text\",name:\"name\",minLength:\"2\",maxLength:\"40\",placeholder:\"\\u0418\\u043C\\u044F\",required:true}),/*#__PURE__*/_jsx(\"span\",{id:\"popup__input_type_name-error\",className:\"popup__error\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChangeDescription,value:description||'',id:\"popup__input_type_about\",className:\"popup__input popup__input_type_about\",type:\"text\",name:\"about\",minLength:\"2\",maxLength:\"200\",placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\",required:true}),/*#__PURE__*/_jsx(\"span\",{id:\"popup__input_type_about-error\",className:\"popup__error\"})]});}export default EditProfilePopup;","map":{"version":3,"sources":["/Users/meowmeow/development/react-mesto-auth/src/components/EditProfilePopup.js"],"names":["React","CurrentUserContext","PopupWithForm","EditProfilePopup","isOpen","onClose","onUpdateUser","currentUser","useContext","useState","name","setName","description","setDescription","handleChangeName","evt","target","value","handleChangeDescription","useEffect","about","handleSubmit","preventDefault"],"mappings":"mKAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,kBAAT,KAAmC,gCAAnC,CAEA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,C,wFAEA,QAASC,CAAAA,gBAAT,MAA6D,IAAjCC,CAAAA,MAAiC,MAAjCA,MAAiC,CAAzBC,OAAyB,MAAzBA,OAAyB,CAAhBC,YAAgB,MAAhBA,YAAgB,CACzD,GAAMC,CAAAA,WAAW,CAAGP,KAAK,CAACQ,UAAN,CAAiBP,kBAAjB,CAApB,CAEA,oBAAwBD,KAAK,CAACS,QAAN,CAAe,EAAf,CAAxB,oDAAOC,IAAP,qBAAaC,OAAb,qBACA,qBAAsCX,KAAK,CAACS,QAAN,CAAe,EAAf,CAAtC,qDAAOG,WAAP,qBAAoBC,cAApB,qBAEA,QAASC,CAAAA,gBAAT,CAA0BC,GAA1B,CAA+B,CAC3BJ,OAAO,CAACI,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAP,CACH,CAED,QAASC,CAAAA,uBAAT,CAAiCH,GAAjC,CAAsC,CAClCF,cAAc,CAACE,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAd,CACH,CAEDjB,KAAK,CAACmB,SAAN,CAAgB,UAAM,CAClBR,OAAO,CAACJ,WAAW,CAACG,IAAb,CAAP,CACAG,cAAc,CAACN,WAAW,CAACa,KAAb,CAAd,CACH,CAHD,CAGG,CAACb,WAAD,CAAcH,MAAd,CAHH,EAKA,QAASiB,CAAAA,YAAT,CAAsBN,GAAtB,CAA2B,CACvBA,GAAG,CAACO,cAAJ,GAEAhB,YAAY,CAAC,CACTI,IAAI,CAAJA,IADS,CAETU,KAAK,CAAER,WAFE,CAAD,CAAZ,CAIH,CAED,mBACI,MAAC,aAAD,EACI,IAAI,CAAC,SADT,CAEI,KAAK,CAAC,2HAFV,CAGI,UAAU,CAAC,wDAHf,CAKI,MAAM,CAAER,MALZ,CAMI,OAAO,CAAEC,OANb,CAOI,QAAQ,CAAEgB,YAPd,wBASI,cACI,QAAQ,CAAEP,gBADd,CAEI,KAAK,CAAEJ,IAAI,EAAI,EAFnB,CAII,EAAE,CAAC,wBAJP,CAKI,SAAS,CAAC,qCALd,CAMI,IAAI,CAAC,MANT,CAOI,IAAI,CAAC,MAPT,CAQI,SAAS,CAAC,GARd,CASI,SAAS,CAAC,IATd,CAUI,WAAW,CAAC,oBAVhB,CAWI,QAAQ,KAXZ,EATJ,cAsBI,aAAM,EAAE,CAAC,8BAAT,CAAwC,SAAS,CAAC,cAAlD,EAtBJ,cAwBI,cACI,QAAQ,CAAEQ,uBADd,CAEI,KAAK,CAAEN,WAAW,EAAI,EAF1B,CAII,EAAE,CAAC,yBAJP,CAKI,SAAS,CAAC,sCALd,CAMI,IAAI,CAAC,MANT,CAOI,IAAI,CAAC,OAPT,CAQI,SAAS,CAAC,GARd,CASI,SAAS,CAAC,KATd,CAUI,WAAW,CAAC,iCAVhB,CAWI,QAAQ,KAXZ,EAxBJ,cAqCI,aAAM,EAAE,CAAC,+BAAT,CAAyC,SAAS,CAAC,cAAnD,EArCJ,GADJ,CA0CH,CAED,cAAeT,CAAAA,gBAAf","sourcesContent":["import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    const [name, setName] = React.useState('');\n    const [description, setDescription] = React.useState('');\n\n    function handleChangeName(evt) {\n        setName(evt.target.value);\n    }\n\n    function handleChangeDescription(evt) {\n        setDescription(evt.target.value);\n    }\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser, isOpen])\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n\n        onUpdateUser({\n            name,\n            about: description,\n        });\n    }\n\n    return (\n        <PopupWithForm\n            name='profile'\n            title='Редактировать профиль'\n            buttonText='Сохранить'\n\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        >\n            <input\n                onChange={handleChangeName}\n                value={name || ''}\n\n                id=\"popup__input_type_name\"\n                className=\"popup__input popup__input_type_name\"\n                type=\"text\"\n                name=\"name\"\n                minLength=\"2\"\n                maxLength=\"40\"\n                placeholder=\"Имя\"\n                required\n            />\n            <span id=\"popup__input_type_name-error\" className=\"popup__error\"></span>\n\n            <input\n                onChange={handleChangeDescription}\n                value={description || ''}\n\n                id=\"popup__input_type_about\"\n                className=\"popup__input popup__input_type_about\"\n                type=\"text\"\n                name=\"about\"\n                minLength=\"2\"\n                maxLength=\"200\"\n                placeholder=\"О себе\"\n                required\n            />\n            <span id=\"popup__input_type_about-error\" className=\"popup__error\"></span>\n\n        </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup;"]},"metadata":{},"sourceType":"module"}