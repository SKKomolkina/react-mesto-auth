{"ast":null,"code":"import _slicedToArray from\"/Users/meowmeow/development/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{CurrentUserContext}from'../contexts/CurrentUserContext';import PopupWithForm from'./PopupWithForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditAvatarPopup(_ref){var name=_ref.name,isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateAvatar=_ref.onUpdateAvatar;var currentUser=React.useContext(CurrentUserContext);var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),avatar=_React$useState2[0],setAvatar=_React$useState2[1];React.useEffect(function(){setAvatar(currentUser.avatar);},[currentUser,isOpen]);function handleChangeAvatar(evt){setAvatar(evt.target.value);}function handleSubmit(evt){evt.preventDefault();onUpdateAvatar({avatar:avatar});}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"avatar\",title:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",buttonText:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",isOpen:isOpen,onClose:onClose,onUpdateAvatar:handleSubmit,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleChangeAvatar,value:avatar||'',id:\"\\\"popup__input_type_\".concat(name,\"\\\"\"),className:\"popup__input popup__input_type_avatar\",name:\"link\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",type:\"url\",required:true}),/*#__PURE__*/_jsx(\"span\",{id:\"\\\"popup__input_type_\".concat(name,\"-error\\\"\"),className:\"popup__error\"})]});}export default EditAvatarPopup;","map":{"version":3,"sources":["/Users/meowmeow/development/react-mesto-auth/src/components/EditAvatarPopup.js"],"names":["React","CurrentUserContext","PopupWithForm","EditAvatarPopup","name","isOpen","onClose","onUpdateAvatar","currentUser","useContext","useState","avatar","setAvatar","useEffect","handleChangeAvatar","evt","target","value","handleSubmit","preventDefault"],"mappings":"mKAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,kBAAT,KAAmC,gCAAnC,CAEA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,C,wFAEA,QAASC,CAAAA,eAAT,MAAoE,IAAzCC,CAAAA,IAAyC,MAAzCA,IAAyC,CAAnCC,MAAmC,MAAnCA,MAAmC,CAA3BC,OAA2B,MAA3BA,OAA2B,CAAlBC,cAAkB,MAAlBA,cAAkB,CAChE,GAAMC,CAAAA,WAAW,CAAGR,KAAK,CAACS,UAAN,CAAiBR,kBAAjB,CAApB,CACA,oBAA4BD,KAAK,CAACU,QAAN,CAAe,EAAf,CAA5B,oDAAOC,MAAP,qBAAeC,SAAf,qBAEAZ,KAAK,CAACa,SAAN,CAAgB,UAAM,CAClBD,SAAS,CAACJ,WAAW,CAACG,MAAb,CAAT,CACH,CAFD,CAEG,CAACH,WAAD,CAAcH,MAAd,CAFH,EAIA,QAASS,CAAAA,kBAAT,CAA4BC,GAA5B,CAAiC,CAC7BH,SAAS,CAACG,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAT,CACH,CAED,QAASC,CAAAA,YAAT,CAAsBH,GAAtB,CAA2B,CACvBA,GAAG,CAACI,cAAJ,GAEAZ,cAAc,CAAC,CACXI,MAAM,CAANA,MADW,CAAD,CAAd,CAGH,CAED,mBACI,MAAC,aAAD,EACI,IAAI,CAAC,QADT,CAEI,KAAK,CAAC,uFAFV,CAGI,UAAU,CAAC,wDAHf,CAKI,MAAM,CAAEN,MALZ,CAMI,OAAO,CAAEC,OANb,CAOI,cAAc,CAAEY,YAPpB,CASI,QAAQ,CAAEA,YATd,wBAYI,cACI,QAAQ,CAAEJ,kBADd,CAEI,KAAK,CAAEH,MAAM,EAAI,EAFrB,CAII,EAAE,+BAAwBP,IAAxB,MAJN,CAKI,SAAS,CAAC,uCALd,CAMI,IAAI,CAAC,MANT,CAOI,WAAW,CAAC,oGAPhB,CAQI,IAAI,CAAC,KART,CASI,QAAQ,KATZ,EAZJ,cAuBI,aAAM,EAAE,+BAAwBA,IAAxB,YAAR,CAA+C,SAAS,CAAC,cAAzD,EAvBJ,GADJ,CA4BH,CAED,cAAeD,CAAAA,eAAf","sourcesContent":["import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({ name, isOpen, onClose, onUpdateAvatar }) {\n    const currentUser = React.useContext(CurrentUserContext);\n    const [avatar, setAvatar] = React.useState('');\n\n    React.useEffect(() => {\n        setAvatar(currentUser.avatar);\n    }, [currentUser, isOpen]);\n\n    function handleChangeAvatar(evt) {\n        setAvatar(evt.target.value);\n    }\n    \n    function handleSubmit(evt) {\n        evt.preventDefault();\n\n        onUpdateAvatar({\n            avatar,\n        });\n    }\n\n    return (\n        <PopupWithForm\n            name='avatar'\n            title='Обновить аватар'\n            buttonText='Сохранить'\n\n            isOpen={isOpen}\n            onClose={onClose}\n            onUpdateAvatar={handleSubmit}\n\n            onSubmit={handleSubmit}\n        >\n\n            <input\n                onChange={handleChangeAvatar}\n                value={avatar || ''}\n\n                id={`\"popup__input_type_${name}\"`}\n                className=\"popup__input popup__input_type_avatar\"\n                name=\"link\"\n                placeholder=\"Ссылка на картинку\"\n                type=\"url\"\n                required\n            />\n            <span id={`\"popup__input_type_${name}-error\"`} className=\"popup__error\"></span>\n\n        </PopupWithForm>\n    )\n}\n\nexport default EditAvatarPopup;"]},"metadata":{},"sourceType":"module"}