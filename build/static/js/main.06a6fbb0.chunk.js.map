{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/InfoTooltip.js","components/Login.js","components/Register.js","utils/api.js","utils/auth.js","components/Footer.js","components/ProtectedRoute.js","images/success.svg","images/fail.svg","components/App.js","reportWebVitals.js","index.js"],"names":["Header","email","signOut","className","src","headerLogo","alt","exact","path","to","onClick","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","link","name","console","log","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","value","about","map","ImagePopup","onClose","PopupWithForm","title","buttonText","children","isOpen","onSubmit","id","method","noValidate","EditAvatarPopup","onUpdateAvatar","useState","setAvatar","handleSubmit","evt","preventDefault","useEffect","onChange","target","placeholder","required","EditProfilePopup","onUpdateUser","setName","description","setDescription","minLength","maxLength","AddPlacePopup","nameRef","useRef","linkRef","current","ref","InfoTooltip","infoPopupStatus","text","Login","authorization","emailValue","setEmailValue","passwordValue","setPasswordValue","Register","registration","api","options","this","_url","baseUrl","_headers","headers","Promise","all","getUserData","getInitialCards","fetch","then","res","_checkResult","body","JSON","stringify","cardId","avatarUrl","ok","json","reject","status","BASE_URL","getContent","token","response","data","Footer","ProtectedRoute","Component","component","props","isLoggedIn","App","setIsLoggedIn","setCurrentUser","setEmail","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isInfoPopupOpen","setIsInfoPopupOpen","setInfoPopupStatus","selectedCard","setSelectedCard","setCards","history","useHistory","changeInfoPopup","handleInfoPopupOpen","closeAllPopups","catch","err","jwt","localStorage","getItem","auth","push","Provider","removeItem","deleteLike","setLike","newCard","state","c","deleteCard","filter","password","setItem","successImage","setTimeout","failImage","changeAvatar","editProfile","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.06a6fbb0.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import React from 'react';\nimport { Link, Switch, Route } from 'react-router-dom';\n\nimport headerLogo from '../images/logo.svg';\n\nfunction Header({ email, signOut }) {\n\n    return (\n        <header className=\"header\">\n            <img className=\"logo header__logo\" src={headerLogo} alt=\"Логотип Mesto\" />\n\n            <div className=\"header__info\">\n\n                <Switch>\n\n                    <Route exact path=\"/\">\n                        <p className=\"header__mail\">{email}</p>\n                        <Link\n                            to=\"/sign-in\"\n                            onClick={signOut}\n                            className=\"header__button\">\n                            Выход\n                        </Link>\n                    </Route>\n\n                    <Route path=\"/sign-in\">\n                        <Link\n                            to=\"/sign-up\"\n                            className=\"header__button\">\n                            Регистрация\n                        </Link>\n                    </Route>\n\n                    <Route path=\"/sign-up\">\n                        <Link\n                            to=\"sign-in\"\n                            className=\"header__button\">\n                            Войти\n                        </Link>\n                    </Route>\n                </Switch>\n            </div>\n        </header>\n    )\n}\n\nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    function handleClick() {\n        onCardClick(card);\n        console.log(card);\n    }\n\n    function handleLike() {\n        onCardLike(card);\n    }\n\n    function handleDelete() {\n        onCardDelete(card);\n    }\n\n    //сверяем айди карточки \n    const isOwn = card.owner._id === currentUser._id;\n\n    //класс, позволяющий при совпадении _.id удалить карточку\n    const cardDeleteButtonClassName = (\n        `photo__trash ${isOwn ? 'photo__trash_active' : 'photo__trash_hidden'}`\n    );\n\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    const cardLikeButtonClassName = `photo__like ${isLiked ? 'photo__like_active' : ''}`\n\n\n    return (\n        <article key={card._id} className=\"photo\">\n            <div className=\"photo__image-container\">\n                <button\n                    onClick={handleDelete}\n                    className={cardDeleteButtonClassName}\n                    aria-label=\"Удалить\"\n                    type=\"button\">\n                </button>\n\n                <img\n                    className=\"photo__image photo__image_open\"\n                    src={card.link} alt={card.name}\n                    name=\"name\"\n                    onClick={handleClick}\n                />\n            </div>\n\n            <h3 className=\"photo__title\" name=\"link\">{card.name}</h3>\n            <div className=\"photo__like-container\">\n                <button\n                    onClick={handleLike}\n                    className={cardLikeButtonClassName}\n                    type=\"button\"\n                    aria-label=\"Нравится\">\n                </button>\n\n                <p className=\"photo__like-counter\"></p>\n            </div>\n        </article>\n    )\n}\n\nexport default Card;","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nimport Card from './Card.js';\n\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDelete, cards }) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    return (\n        <main>\n            <section className=\"profile\">\n                <div className=\"profile__container\">\n                    <div className=\"profile__photo-wrapper\" onClick={onEditAvatar}>\n                        <img name=\"avatar\"\n                            src={currentUser.avatar}\n                            alt=\"Ваше фото\" className=\"profile__photo\" />\n                    </div>\n\n                    <div className=\"profile__info\">\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\n                        <button className=\"profile__btn-edit\" type=\"button\" value=\"\" onClick={onEditProfile}></button>\n                        <p className=\"profile__about\">{currentUser.about}</p>\n                    </div>\n\n                    <button className=\"profile__btn-add\" type=\"button\" onClick={onAddPlace}></button>\n                </div>\n            </section>\n\n            <section className=\"photos\">\n                {cards.map(card => \n                <Card\n                    card={card}\n                    key={card._id}\n                    onCardClick={onCardClick}\n                    onCardLike={onCardLike}\n                    onCardDelete={onCardDelete}  \n                    />)}\n            </section>\n        </main>\n    )\n}\n\nexport default Main","import React from 'react';\n\nfunction ImagePopup({ card, onClose }) {\n    return (\n            <div \n            className={`popup popup_full_photo ${card.name && 'popup_opened'}`}\n            onClick={onClose}\n            >\n                <div className=\"popup__figure-flex\">\n                    <button className=\"button-close popup__close popup__close_btn_close popup__button-close\" type=\"button\"></button>\n                    <figure className=\"popup__container popup__container-image popup__container-image_open\">\n                        <img className=\"popup__image\" src={card.link} alt={card.name} />\n                        <figcaption className=\"popup__caption\">{card.name}</figcaption>\n                    </figure>\n                </div>\n            </div>\n        )\n}\n\nexport default ImagePopup;","import React from 'react';\n\nfunction PopupWithForm({ title, name, buttonText, children, isOpen, onClose, onSubmit }) {\n    return (\n        <div className={`popup popup-${name} ${isOpen && 'popup_opened'}`}>\n\n            <button className={`button-close popup__cross popup__cross_btn_close-${name}`}\n                type=\"button\" onClick={onClose}></button>\n            <form\n                onSubmit={onSubmit}\n                id=\"popup__form\" className={`popup__form popup__form_${name}`}\n                method=\"get\" name={`${name}-form`} noValidate\n            >\n\n                <h2 className=\"popup__title\">{title}</h2>\n\n                {children}\n\n                <button className=\"popup__button popup__save\" type=\"submit\">{buttonText}</button>\n\n            </form>\n\n        </div>\n    )\n}\n\nexport default PopupWithForm","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({ name, isOpen, onClose, onUpdateAvatar }) {\n    const currentUser = React.useContext(CurrentUserContext);\n    const [avatar, setAvatar] = React.useState('');\n\n    React.useEffect(() => {\n        setAvatar(currentUser.avatar);\n    }, [currentUser, isOpen]);\n\n    function handleChangeAvatar(evt) {\n        setAvatar(evt.target.value);\n    }\n    \n    function handleSubmit(evt) {\n        evt.preventDefault();\n\n        onUpdateAvatar({\n            avatar,\n        });\n    }\n\n    return (\n        <PopupWithForm\n            name='avatar'\n            title='Обновить аватар'\n            buttonText='Сохранить'\n\n            isOpen={isOpen}\n            onClose={onClose}\n            onUpdateAvatar={handleSubmit}\n\n            onSubmit={handleSubmit}\n        >\n\n            <input\n                onChange={handleChangeAvatar}\n                value={avatar || ''}\n\n                id={`\"popup__input_type_${name}\"`}\n                className=\"popup__input popup__input_type_avatar\"\n                name=\"link\"\n                placeholder=\"Ссылка на картинку\"\n                type=\"url\"\n                required\n            />\n            <span id={`\"popup__input_type_${name}-error\"`} className=\"popup__error\"></span>\n\n        </PopupWithForm>\n    )\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    const [name, setName] = React.useState('');\n    const [description, setDescription] = React.useState('');\n\n    function handleChangeName(evt) {\n        setName(evt.target.value);\n    }\n\n    function handleChangeDescription(evt) {\n        setDescription(evt.target.value);\n    }\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser, isOpen])\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n\n        onUpdateUser({\n            name,\n            about: description,\n        });\n    }\n\n    return (\n        <PopupWithForm\n            name='profile'\n            title='Редактировать профиль'\n            buttonText='Сохранить'\n\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        >\n            <input\n                onChange={handleChangeName}\n                value={name || ''}\n\n                id=\"popup__input_type_name\"\n                className=\"popup__input popup__input_type_name\"\n                type=\"text\"\n                name=\"name\"\n                minLength=\"2\"\n                maxLength=\"40\"\n                placeholder=\"Имя\"\n                required\n            />\n            <span id=\"popup__input_type_name-error\" className=\"popup__error\"></span>\n\n            <input\n                onChange={handleChangeDescription}\n                value={description || ''}\n\n                id=\"popup__input_type_about\"\n                className=\"popup__input popup__input_type_about\"\n                type=\"text\"\n                name=\"about\"\n                minLength=\"2\"\n                maxLength=\"200\"\n                placeholder=\"О себе\"\n                required\n            />\n            <span id=\"popup__input_type_about-error\" className=\"popup__error\"></span>\n\n        </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n    const nameRef = React.useRef();\n    const linkRef = React.useRef();\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n\n        onAddPlace({\n            name: nameRef.current.value,\n            link: linkRef.current.value,\n        });\n    }\n\n    return (\n        <PopupWithForm\n            name='photo'\n            title='Новое место'\n            buttonText='Создать'\n\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        >\n\n            <input\n                ref={nameRef}\n                id=\"popup__input_type_title\"\n                className=\"popup__input popup__input_type_title\" type=\"text\" name=\"name\"\n                placeholder=\"Название\"\n                minLength=\"1\"\n                maxLength=\"30\"\n                required\n            />\n            <span id=\"popup__input_type_title-error\" className=\"popup__error\"></span>\n\n            <input\n                ref={linkRef}\n                id=\"popup__input_type_image\"\n                className=\"popup__input popup__input_type_image\"\n                type=\"url\" name=\"link\"\n                placeholder=\"Ссылка на картинку\"\n                required\n            />\n            <span id=\"popup__input_type_image-error\" className=\"popup__error\"></span>\n\n        </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup;","import React from 'react';\n\nfunction InfoTooltip({ isOpen, onClose, infoPopupStatus }) {\n\n    return (\n        <div className={`popup popup-info ${isOpen && 'popup_opened'}`}>\n            <button\n                className=\"button-close popup__cross popup__cross_btn_close-profile \"\n                type=\"button\"\n                onClick={onClose}\n                />\n\n            <div className=\"popup__info-container\">\n                <img className=\"popup-info__img\" src={infoPopupStatus.path} alt=\"\" />\n                <h2 className=\"popup-info__title\">{infoPopupStatus.text}</h2>\n            </div>\n        </div>\n    )\n}\n\nexport default InfoTooltip;\n","import React from 'react';\n\nfunction Login({ authorization }) {\n    const [emailValue, setEmailValue] = React.useState('');\n    const [passwordValue, setPasswordValue] = React.useState('');\n\n    function handleChangeEmail(evt) {\n        setEmailValue(evt.target.value);\n    }\n\n    function handleChangePassword(evt) {\n        setPasswordValue(evt.target.value);\n    }\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n\n        const password = passwordValue;\n        const email = emailValue;\n\n        authorization(email, password) \n    }\n\n    return (\n        <div className=\"auth\">\n            <h2 className=\"auth__title\">Вход</h2>\n\n            <form \n            className=\"auth__form\"\n            onSubmit={handleSubmit}\n            >\n                <input\n                    className=\"auth__input\"\n                    type=\"text\"\n                    placeholder=\"Email\"\n                    value={emailValue}\n                    onChange={handleChangeEmail}\n                />\n\n                <input\n                    className=\"auth__input\"\n                    type=\"password\"\n                    placeholder=\"Пароль\"\n                    value={passwordValue}\n                    onChange={handleChangePassword}\n                />\n\n                <button\n                    className=\"auth__button\"\n                    type=\"submit\">\n                    Войти\n                </button>\n            </form>\n        </div>\n    )\n}\n\nexport default Login;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Register({ registration }) {\n    const [emailValue, setEmailValue] = React.useState('');\n    const [passwordValue, setPasswordValue] = React.useState('');\n\n    function handleChangeEmail(evt) {\n        setEmailValue(evt.target.value);\n    }\n\n    function handleChangePassword(evt) {\n        setPasswordValue(evt.target.value);\n    }\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n\n        const email = emailValue;\n        const password = passwordValue;\n\n        registration(email, password);\n    }\n\n    return (\n        <div className=\"auth\">\n            <h2 className=\"auth__title\">Регистрация</h2>\n\n            <form\n                className=\"auth__form\"\n                onSubmit={handleSubmit}\n            >\n                <input\n                    className=\"auth__input\"\n                    type=\"email\"\n                    placeholder=\"Email\"\n                    onChange={handleChangeEmail}\n                    value={emailValue}\n                />\n\n                <input\n                    className=\"auth__input\"\n                    type=\"password\"\n                    placeholder=\"Пароль\"\n                    onChange={handleChangePassword}\n                    value={passwordValue}\n                />\n\n                <button\n                    className=\"auth__button\"\n                    type=\"submit\">\n                    Зарегистрироваться\n                </button>\n            </form>\n\n            <Link className=\"auth__link\" to=\"/sign-in\">Уже зарегистрированы? Войти</Link>\n        </div>\n    )\n}\n\nexport default Register;","export class Api {\n    constructor(options) {\n        this._url = options.baseUrl;\n        this._headers = options.headers;\n    }\n\n    getData() {\n        return Promise.all([this.getUserData(), this.getInitialCards()]);\n    }\n\n    getInitialCards() {\n        return fetch(`${this._url}/cards`, {\n            headers: this._headers\n        })\n            .then(res => this._checkResult(res));\n    }\n\n    getUserData() {\n        return fetch(`${this._url}/users/me`, {\n            headers: this._headers\n        })\n            .then(res => this._checkResult(res));\n    }\n\n    editProfile(name, about) {\n        return fetch(`${this._url}/users/me`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: name,\n                about: about,\n            })\n        })\n            .then(res => this._checkResult(res));\n    }\n\n    addCard(name, link) {\n        return fetch(`${this._url}/cards`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: name,\n                link: link,\n            })\n        })\n            .then(res => this._checkResult(res))\n    }\n\n    setLike(cardId) {\n        return fetch(`${this._url}/cards/likes/${cardId}`, {\n            method: 'PUT',\n            headers: this._headers,\n        })\n            .then(res => this._checkResult(res));\n    }\n\n    deleteLike(cardId) {\n        return fetch(`${this._url}/cards/likes/${cardId}`, {\n            method: 'DELETE',\n            headers: this._headers,\n        })\n            .then(res => this._checkResult(res));\n    }\n\n    deleteCard(cardId) {\n        return fetch(`${this._url}/cards/${cardId}`, {\n            method: 'DELETE',\n            headers: this._headers,\n        })\n            .then(res => this._checkResult(res));\n    }\n\n    changeAvatar(avatarUrl) {\n        return fetch(`${this._url}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                avatar: avatarUrl,\n            })\n        })\n            .then(res => this._checkResult(res));\n    }\n\n\n    _checkResult(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n}\n\nconst api = new Api({\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-25',\n    headers: {\n        authorization: 'e0ccb70a-8300-4fff-b1a9-1044a866d1c7',\n        'Content-Type': 'application/json'\n    }\n});\n\nexport default api","export const BASE_URL = 'https://auth.nomoreparties.co';\n\n\nexport const register = (email, password) => {\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({email, password})\n    })\n}\n\n\nexport const authorize = (email, password) => {\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({email, password})\n    })\n    .then((response => response.json()))\n    .then((data) => {\n        console.log(data)\n        if(data.token){\n            console.log(data.token);\n            localStorage.setItem('jwt', data.token);\n            return data.token;\n        }\n    })\n    .catch(err => console.log(err))\n}\n\n\nexport const getContent = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: 'GET',\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\" : `Bearer ${token}`\n        }\n    })\n    .then((response => response.json()))\n    .then(data => data)\n}","import React from 'react';\n\nfunction Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__logo\">© 2020 Mesto Russia</p>\n        </footer>\n    )\n}\n\nexport default Footer","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nimport Footer from './Footer';\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n    return (\n        <Route>\n            <>\n                {\n                    props.isLoggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\n                }\n\n                <Footer />\n            </>\n        </Route>\n    )\n}\n\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/fail.df8eddf6.svg\";","import React from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\n\nimport Header from './Header';\nimport Main from './Main';\nimport ImagePopup from './ImagePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport InfoTooltip from './InfoTooltip';\n\nimport Login from './Login';\nimport Register from './Register';\n\nimport api from '../utils/api';\nimport * as auth from '../utils/auth';\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport ProtectedRoute from './ProtectedRoute';\n\nimport successImage from '../images/success.svg';\nimport failImage from '../images/fail.svg';\n\nfunction App() {\n    const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n\n    const [currentUser, setCurrentUser] = React.useState({});\n    const [email, setEmail] = React.useState('');\n\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n\n    const [isInfoPopupOpen, setIsInfoPopupOpen] = React.useState(false);\n    const [infoPopupStatus, setInfoPopupStatus] = React.useState({ path: '', text: '' })\n\n    const [selectedCard, setSelectedCard] = React.useState({ name: '', link: '' });\n    const [cards, setCards] = React.useState([]);\n\n    const history = useHistory();\n\n\n    React.useEffect(() => {\n        api.getUserData()\n            .then((data) => {\n                setCurrentUser(data);\n            })\n            .catch((err) => console.log(err));\n    }, [])\n\n    React.useEffect(() => {\n        api.getInitialCards()\n            .then((cards) => {\n                setCards(cards);\n            })\n            .catch((err) => {\n                console.log(err);\n            })\n\n    }, [])\n\n    React.useEffect(() => {\n        const jwt = localStorage.getItem('jwt');\n        if (jwt) {\n            auth.getContent(jwt).then((res) => {\n                if(res) {\n                setIsLoggedIn(true);\n                setEmail(res.email);\n                history.push('/');\n            }\n                })\n                .catch(err => console.log(err))\n        }\n    }, [isLoggedIn, history])\n\n\n    // <---------- Registration & Auth ---------->\n\n    function registration(email, password) {\n        auth.register(email, password)\n            .then((response) => {\n                if (response.ok) {\n                    changeInfoPopup({\n                        path: successImage,\n                        text: 'Вы успешно зарегистрировались!',\n                    })\n                    handleInfoPopupOpen();\n                    setTimeout(history.push, 3000, \"/sign-in\");\n                    setTimeout(closeAllPopups, 4000)\n\n                    return response.json();\n                }\n            })\n            .catch((err) => {\n                changeInfoPopup({\n                    path: failImage,\n                    text: 'Что-то пошло не так! Попробуйте ещё раз.',\n                })\n                handleInfoPopupOpen();\n                setTimeout(closeAllPopups, 4000);\n                console.log(err);\n            })\n    }\n\n    function authorization(email, password) {\n        auth.authorize(email, password)\n            .then((data) => {\n                auth.getContent(data).then((res)=> {\n                    setEmail(res.data.email)\n                }).catch(err => console.log(err))\n                    setIsLoggedIn(true);\n                    history.push('/');\n                }\n            )\n    }\n\n    function signOut() {\n        localStorage.removeItem('jwt');\n        history.push('/sign-in');\n    }\n\n    // <---------- Open & Close ---------->\n\n    function changeInfoPopup({ path, text }) {\n        setInfoPopupStatus({\n            path: path,\n            text: text,\n        })\n    }\n\n    function handleInfoPopupOpen() {\n        setIsInfoPopupOpen(true);\n    }\n\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true);\n    }\n\n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true);\n    }\n\n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true);\n    }\n\n    function closeAllPopups() {\n        setIsEditAvatarPopupOpen(false);\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setIsInfoPopupOpen(false);\n\n        setSelectedCard({ name: '', link: '' });\n    }\n\n\n    // <---------- Update User & Avatar ---------->\n\n    function handleUpdateUser({ name, about }) {\n        api.editProfile(name, about)\n            .then((data) => {\n                setCurrentUser(data);\n                setIsEditProfilePopupOpen(false);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n    function handleUpdateAvatar({ avatar }) {\n        api.changeAvatar(avatar)\n            .then((data) => {\n                setCurrentUser(data);\n                setIsEditAvatarPopupOpen(false);\n            })\n            .catch((err) => console.log(err));\n    }\n\n\n    // <---------- PhotoCards Actions ---------->\n\n    function handleAddPlaceSubmit(card) {\n        api.addCard(card.name, card.link)\n            .then((newCard) => {\n                setCards([newCard, ...cards]);\n                setIsAddPlacePopupOpen(false);\n            })\n            .catch((err) => console.log(err));\n    }\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n        const changeLike = isLiked ? api.deleteLike(card._id) : api.setLike(card._id)\n\n        changeLike.then((newCard) => {\n            setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n        })\n            .catch((err) => console.log(err));\n    }\n\n    function handleCardDelete(card) {\n        api.deleteCard(card._id)\n            .then(() => {\n                const newCard = cards.filter((c) => c._id !== card._id);\n                setCards(newCard);\n            })\n            .catch((err) => console.log(err));\n    }\n\n    function handleCardClick(selectedCard) {\n        setSelectedCard({ name: selectedCard.name, link: selectedCard.link });\n    }\n\n\n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n            <div className=\"root\">\n                <Header\n                    email={email}\n\n                    signOut={signOut}\n                />\n\n                <Switch>\n\n                    <ProtectedRoute\n                        exact path=\"/\"\n                        isLoggedIn={isLoggedIn}\n                        component={Main}\n\n                        onEditAvatar={handleEditAvatarClick}\n                        onEditProfile={handleEditProfileClick}\n                        onAddPlace={handleAddPlaceClick}\n\n                        onCardClick={handleCardClick}\n                        onCardLike={handleCardLike}\n                        onCardDelete={handleCardDelete}\n\n                        cards={cards}\n                    />\n\n                    <Route path=\"/sign-in\">\n                        <Login authorization={authorization} />\n                    </Route>\n\n                    <Route path=\"/sign-up\">\n                        <Register registration={registration} />\n                    </Route>\n\n                    <Route path=\"/\">\n                        {\n                            isLoggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />\n                        }\n                    </Route>\n                </Switch>\n\n                <EditAvatarPopup\n                    isOpen={isEditAvatarPopupOpen}\n                    onClose={closeAllPopups}\n\n                    onUpdateAvatar={handleUpdateAvatar}\n                />\n\n                <EditProfilePopup\n                    isOpen={isEditProfilePopupOpen}\n                    onClose={closeAllPopups}\n\n                    onUpdateUser={handleUpdateUser}\n                />\n\n                <AddPlacePopup\n                    isOpen={isAddPlacePopupOpen}\n                    onClose={closeAllPopups}\n\n                    onAddPlace={handleAddPlaceSubmit}\n                />\n\n                <ImagePopup\n                    card={selectedCard}\n                    onClose={closeAllPopups}\n                />\n\n                <InfoTooltip\n                    isOpen={isInfoPopupOpen}\n                    onClose={closeAllPopups}\n\n                    infoPopupStatus={infoPopupStatus}\n                />\n\n            </div>\n        </CurrentUserContext.Provider>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}